<!DOCTYPE html>
<html>
	<head>
		<title>THE REAL TICKET THING</title>
		<style>
			body{
				background-color:black;
			}
			#instructionsSlide{
				visibility: visible;
				background-color: rgb(30,200,20);
				height:50%;
			}
			#generalSlide{
				visibility: hidden;
				background-color: rgb(30,100,20);
			}
			#endSlide{
				visibility: hidden;
				background-color: rgb(60,20,20);
			}
			#resultSlide{
				visibility: hidden;
				background-color: rgb(30,200,20);
			}
            .slide{
				position:absolute;
				width:100%;
				float:top;
				padding:10px;
			}
			#ticketPic{
				width: 30%;
			}
		</style>
	</head>
	<body>
		<div id="instructionsSlide"; class="slide";>
			<h1>Alek's Ticket thing</h1>
			<p>CLICK THE BUTTONS. <br>Just do it. <br>If you win you get a fabolous prize.</p>
			<button id="start">START</button>
		</div>
		<div id="generalSlide"; class="slide";>
			<h2 id='ticketValue'>10 bucks</h2>
			<button id="skip">Skip</button>
			<button id="pick">Pick</button>
			<img id="ticketPic" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Persian_Cat_UK.jpg/640px-Persian_Cat_UK.jpg">
		</div>
		<div id="resultSlide" class="slide";>
			<h1 id="ticketPlace">You chose the best ticket. <br> Here is a cool Panda to reward you for your physcological abilities.</h1>
			<button id="nextSeq">Next Sequence</button>
		</div>
		<div id="endSlide" class="slide";>
			<img src="https://i.ytimg.com/vi/S4UG_l-CHF4/maxresdefault.jpg">
			<h1>Thanks for playing.</h1>
		</div>
		<script>
			var startButton=document.getElementById("start");
			var skipButton=document.getElementById("skip");
			var pickButton=document.getElementById("pick");
			var ticketValue=document.getElementById("ticketValue");
			var nextSeqButton=document.getElementById("nextSeq");
			var instructionsSlide=document.getElementById("instructionsSlide");
			var generalSlide=document.getElementById("generalSlide");
			var endSlide=document.getElementById("endSlide");
			var resultSlide=document.getElementById("resultSlide");
			var ticketPlace=document.getElementById("ticketPlace");
			var curTicSeq=[];
			//later make user specify this quantity(how many sequences they want to do.)
			var numOfSeq=2;
			var curSeqNum=0;
			var seqLength=10;
			var seqCurElement=0;
			var range = [10,20];
			
			var newRanTicSeq=function(seqLength,range){
				curTicSeq=[];
				for(var i=0;i<seqLength;i++){
					curTicSeq.push(Math.floor(range[0]+(range[1]-range[0])*Math.random()));
				}
				return curTicSeq;
			};
			var startFunction=function(){
				generalSlide.style.visibility="visible";
				instructionsSlide.style.visibility="hidden";
				endSlide.style.visibility="hidden";
				resultSlide.style.visibility="hidden";
				curTicSeq=newRanTicSeq(seqLength,range);
				curSeqNum+=1;
			};
			var skipFunction=function(){
				if(seqCurElement<seqLength){
					value=curTicSeq[seqCurElement];
					ticketValue.textContent=value.toString()+"bucks";
					seqCurElement+=1;
				}
				if(seqCurElement>=seqLength){
					alert("You can't skip again, this is the last element of the sequence. You must press 'pick'.")
				}
			};
			var pickFunction=function(){
				generalSlide.style.visibility="hidden";
				instructionsSlide.style.visibility="hidden";
				endSlide.style.visibility="hidden";
				resultSlide.style.visibility="visible";

			};
			var nextSeqFunction=function(){
				generalSlide.style.visibility="visible";
				resultSlide.style.visibility="hidden";
				instructionsSlide.style.visibility="hidden";
				endSlide.style.visibility="hidden";
			};
			
			startButton.addEventListener("click",startFunction);
			skipButton.addEventListener("click",skipFunction);
			pickButton.addEventListener("click",pickFunction);
			nextSeqButton.addEventListener("click",nextSeqFunction);
		</script>
	</body>
</html>
